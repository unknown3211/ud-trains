"use strict";(()=>{var a=[],c=!1,d=null;function l(){SwitchTrainTrack(0,!0),SwitchTrainTrack(3,!0),SetTrainTrackSpawnFrequency(0,12e4),SetRandomTrains(!0),SetTrainsForceDoorsOpen(!1)}async function u(){for(;;){await m(1e3);let e=PlayerPedId(),n=GetEntityCoords(e);if(a=s(n),a.length>=1){let t=a[0].vehicle;d=t?GetTrainCurrentTrackNode(t):null}c=IsPedInAnyTrain(e)}}function m(e){return new Promise(n=>setTimeout(n,e))}function s(e){let n=[],t=GetGamePool("CVehicle");for(let o of t){let r=GetEntityCoords(o),i=GetDistanceBetweenCoords(r,e,!0);i<=100&&GetEntityModel(o)===GetHashKey("metrotrain")&&n.push({vehicle:o,distance:i,speed:GetEntitySpeed(o)})}return n.sort((o,r)=>o.distance-r.distance)}l();u();})();
